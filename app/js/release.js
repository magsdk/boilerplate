/*! mag-boilerplate v1.1.2 (webpack: v1.15.0) */
!function(t){function e(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var s=i(1);s.once("load",function(){i(13).load({name:core.environment.language},function(){s.pages={main:i(15)},s.route(s.pages.main),s.ready()})})},function(t,e,i){"use strict";var s=i(2);t.exports=s},function(t,e,i){"use strict";var s=i(3),a=i(7);window.core=window.parent.getCoreInstance(window,s),i(8),i(9),i(11)("sdk"),i(12),i(11)("app"),s.platform="mag",s.ready=function(){window.core.call("app:ready")},s.exit=function(){s.events["exit"]&&s.emit("exit"),core.call("exit")},a.load=function(t){document.body.setAttribute("platform",s.platform),core.ready?s.events["load"]&&s.emit("load",{}):core.once("load",function(){s.events[t.type]&&s.emit(t.type,t)})},Object.keys(a).forEach(function(t){window.addEventListener(t,a[t])}),t.exports=s},function(t,e,i){"use strict";function s(t,e){return!(!t||t.active)&&(t.$node.classList.add("active"),t.active=!0,d.activePage=t,t.events["show"]&&t.emit("show",{page:t,data:e}),!0)}function a(t){return!(!t||!t.active)&&(t.$node.classList.remove("active"),t.active=!1,d.activePage=null,t.events["hide"]&&t.emit("hide",{page:t}),!0)}var n=i(4),o=i(5).parse,d=new n;d.query=o(document.location.search.substring(1)),d.config=i(6),d.activePage=null,d.route=function(t,e){var i=d.activePage;return!(!t||t.active)&&(a(d.activePage),s(t,e),this.events["route"]&&this.emit("route",{from:i,to:t}),!0)},t.exports=d},function(t,e,i){"use strict";function s(){this.events={}}s.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var i=this;this.events[t]=this.events[t]||[],this.events[t].push(function s(){e.apply(i,arguments),i.removeListener(t,s)})},addListeners:function(t){var e;for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},emit:function(t){var e,i=this.events[t];if(i)for(e=0;e<i.length;e++)i[e].apply(this,Array.prototype.slice.call(arguments,1))}},s.prototype.constructor=s,t.exports=s},function(t,e){"use strict";t.exports={parse:function(t){var e={};return t.split("&").forEach(function(t){t=t.split("="),2===t.length&&(e[t[0]]=decodeURIComponent(t[1]))}),e},stringify:function(t){var e=[];return Object.keys(t).forEach(function(i){e.push(i+"="+encodeURIComponent(t[i]))}),e.join("&")}}},function(t,e){"use strict";t.exports={}},function(t,e,i){"use strict";var s=i(3);t.exports={DOMContentLoaded:function(t){s.events["dom"]&&s.emit("dom",t)},load:function(t){s.events[t.type]&&s.emit(t.type,t)},unload:function(t){s.events[t.type]&&s.emit(t.type,t)},error:function(t){},keydown:function(t){var e,i=s.activePage,a={code:t.keyCode,stop:!1};t.ctrlKey&&(a.code+="c"),t.altKey&&(a.code+="a"),t.shiftKey&&(a.code+="s"),e=i.activeComponent,e&&e!==i&&(e.events[t.type]&&e.emit(t.type,a,t),!a.stop&&e.propagate&&e.parent&&e.parent.events[t.type]&&e.parent.emit(t.type,a,t)),a.stop||(i.events[t.type]&&i.emit(t.type,a,t),t.stop||s.events[t.type]&&s.emit(t.type,a,t))},keypress:function(t){var e=s.activePage;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},contextmenu:function(t){t.preventDefault()},mousewheel:function(t){var e=s.activePage;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}}},function(t,e){"use strict";if(!document.documentElement.classList){var i=Array.prototype,s=i.indexOf,a=i.slice,n=i.push,o=i.splice,d=i.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)n.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(n.call(this,t),this._element.className=a.call(this,0).join(" "))},contains:function(t){return s.call(this,t)!==-1},item:function(t){return this[t]||null},remove:function(t){var e=s.call(this,t);e!==-1&&(o.call(this,e,1),this._element.className=a.call(this,0).join(" "))},toString:function(){return d.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,i){"use strict";var s=i(3),a=i(10);s.metrics=a[s.query.screenHeight]||a[screen.height]||a[720],s.metrics.availHeight=s.metrics.height-(s.metrics.availTop+s.metrics.availBottom),s.metrics.availWidth=s.metrics.width-(s.metrics.availLeft+s.metrics.availRight)},function(t,e){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60}}},function(t,e,i){"use strict";var s=i(3);t.exports=function(t){var e=document.createElement("link");e.rel="stylesheet",e.href="css/release."+t+"."+s.metrics.height+".css",document.head.appendChild(e)}},function(t,e,i){"use strict";var s,a=i(3);s=document.createElement("link"),s.rel="stylesheet",s.href=window.core.theme.path+a.metrics.height+".css",document.head.appendChild(s),t.exports=s},function(t,e,i){"use strict";function s(t){var e=new n(t);return window.gettext=window._=e.gettext,window.pgettext=e.pgettext,window.ngettext=e.ngettext,e}var a=i(4),n=i(14),o=new a;o.defaultLanguage="en",o.load=function(t,e){var i;return t.ext=t.ext||"json",t.path=t.path||"lang",t.name===o.defaultLanguage?(s(),e(null),!1):(i=new XMLHttpRequest,i.onload=function(){var t;try{t=JSON.parse(i.responseText),s(t),e(null),o.events["load"]&&o.emit("load")}catch(t){i.onerror(t)}},i.ontimeout=i.onerror=function(t){s(),e(t),o.events["error"]&&o.emit("error",t)},i.open("GET",t.path+"/"+t.name+"."+t.ext,!0),i.send(null),!0)},t.exports=o},function(module,exports,__webpack_require__){"use strict";function Gettext(config){var data,meta;config=config||{},data=config.data||{},data[""]=data[""]||{},meta=config.meta,this.gettext=function(t){return data[""][t]||t},this.pgettext=function(t,e){return data[t]&&data[t][e]||e},this.ngettext=function(msgId,plural,value){var n;return data&&meta&&data[""][msgId]?data[""][msgId][eval("n = "+value+"; "+meta.plural)]:1===value?msgId:plural}}Gettext.prototype.constructor=Gettext,module.exports=Gettext},function(t,e,i){"use strict";var s=i(1),a=i(16),n=i(19),o=i(21),d=i(23),c=i(25),l=i(26),r=new a({$node:window.pageMain}),h=document.createElement("div");h.className="amountContainer",h.appendChild(document.createElement("div")),h.firstChild.className="amount",h.firstChild.innerText="4",s.footer=new o({parent:r,visible:!0,data:{left:{code:n.menu,action:function(){}},middle:[{code:n.f1,title:_("Action"),action:function(){}},{code:n.f2,title:_("Action"),action:function(){}},{code:n.f3,title:_("Action"),action:function(){}},{code:n.f4,title:_("Action"),action:function(){}}],right:{code:n.frame,action:function(){}}}}),r.add(s.panelSet=new c({panels:[new d({title:[{value:_("menu"),className:"some class"}],children:[new l({focusIndex:0,cycle:!0,size:4,data:[{items:[{className:"theme-icon theme-icon-folder"},_("Item")]},{items:[{className:"theme-icon theme-icon-folder"},_("Item")]},{items:[{className:"theme-icon theme-icon-folder"},_("Item")]},{items:[{className:"theme-icon theme-icon-folder"},_("Item")]}]})]}),new d({title:[{value:_("files"),className:"some class"},h],main:!0,children:[new l({focusIndex:0,cycle:!0,size:4,data:[{items:[{className:"theme-icon theme-icon-file"},_("Item")]},{items:[{className:"theme-icon theme-icon-file"},_("Item")]},{items:[{className:"theme-icon theme-icon-file"},_("Item")]},{items:[{className:"theme-icon theme-icon-file"},_("Item")]}]})]}),new d({title:[{value:_("info"),className:"some class"}],children:[]})]})),r.addListener("keydown",function(t){t.code===n.back&&window.core.call("stop")}),r.once("show",function(){s.panelSet.panels[1].focus()}),t.exports=r},function(t,e,i){"use strict";t.exports=i(17),t.exports.prototype.name="stb-component-page"},function(t,e,i){"use strict";function s(t){t=t||{},this.active=!1,this.activeComponent=null,a.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var a=i(18);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.name="spa-component-page",t.exports=s},function(t,e,i){"use strict";function s(t){var e,i=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,n.call(this),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className=this.name+" "+(t.className||""),this.id=t.id||this.$node.id||"cid"+o++,t.parent&&t.parent.add(this),t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),this.defaultEvents){t.events=t.events||{};for(e in this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e]}t.events&&Object.keys(t.events).forEach(function(e){i.addListener(e,t.events[e])}),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){i.focus(),i.events["click"]&&i.emit("click",t),t.stopPropagation()})}var a=i(3),n=i(4),o=0;s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.defaultEvents=null,s.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.events["add"]&&this.emit("add",{item:t})},s.prototype.remove=function(){this.parent&&(a.activePage.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.events={},this.$node.parentNode.removeChild(this.$node),this.events["remove"]&&this.emit("remove")},s.prototype.focus=function(t){var e=a.activePage,i=e.activeComponent;return!(!this.focusable||this===i)&&(i&&i.blur(),e.activeComponent=i=this,i.$node.classList.add("focus"),i.events["focus"]&&i.emit("focus",t),!0)},s.prototype.blur=function(){var t=a.activePage,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e&&(t.activeComponent=null,this.events["blur"]&&this.emit("blur"),!0)},s.prototype.show=function(t){return!!this.visible||(this.$node.classList.remove("hidden"),this.visible=!0,this.events["show"]&&this.emit("show",t),!0)},s.prototype.hide=function(){return!this.visible||(this.$node.classList.add("hidden"),this.visible=!1,this.events["hide"]&&this.emit("hide"),!0)},t.exports=s},function(t,e,i){"use strict";var s=i(20);s.back=s.backspace,s.channelNext=s.tab,s.channelPrev=s.tab+"s",s.ok=s.enter,s.exit=s.escape,s.volumeUp=107,s.volumeDown=109,s.f1="112c",s.f2="113c",s.f3="114c",s.f4="115c",s.refresh="116c",s.frame="117c",s.phone="119c",s.set="120c",s.tv="121c",s.menu="122c",s.app="123c",s.rewind="66a",s.forward="70a",s.audio="71a",s.standby="74a",s.keyboard="76a",s.usbMounted="80a",s.usbUnmounted="81a",s.playPause="82a",s.play=0,s.pause=0,s.stop="83a",s.power="85a",s.record="87a",s.info="89a",s.mute="192a",s.digit0=48,s.digit1=49,s.digit2=50,s.digit3=51,s.digit4=52,s.digit5=53,s.digit6=54,s.digit7=55,s.digit8=56,s.digit9=57,t.exports=s},function(t,e){"use strict";t.exports={backspace:8,tab:9,enter:13,escape:27,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46}},function(t,e,i){"use strict";function s(t){var e=0,i=this;t=t||{},t.focusable=!1,t.visible=t.visible||!1,t.$body=document.createElement("div"),t.$body.className="body",a.call(this,t),this.tabs=[{codes:{}},{codes:{}},{codes:{}},{codes:{}}],this.tab=0,this.$table=this.$node.appendChild(document.createElement("table")),this.$table.insertRow(),this.$table.rows[0].insertCell(-1),this.$left=this.$table.rows[0].cells[0].appendChild(document.createElement("div")),this.$left.className="theme-icon",this.$table.rows[0].insertCell(-1),this.$table.rows[0].cells[1].className="central",this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.$table.rows[0].insertCell(-1),this.$right=this.$table.rows[0].cells[2].appendChild(document.createElement("div")),this.$right.className="theme-icon",this.init(t.data),this.parent.addListener("keydown",function(t){var e=i.tabs[i.tab];i.visible&&e.codes[t.code]&&"function"==typeof e.codes[t.code].action&&e.codes[t.code].action()})}var a=i(22),n=i(19),o={};o[n.f1]="theme-icon-rc-f1",o[n.f2]="theme-icon-rc-f2",o[n.f3]="theme-icon-rc-f3",o[n.f4]="theme-icon-rc-f4",o[n.menu]="theme-icon-rc-menu",o[n.ok]="theme-icon-rc-ok",o[n.info]="theme-icon-rc-info",o[n.playPause]="theme-icon-rc-play-pause",o[n.back]="theme-icon-rc-back",o[n.exit]="theme-icon-rc-home",o[n.keyboard]="theme-icon-rc-vk",o[n.refresh]="theme-icon-rc-refresh",o[n.frame]="theme-icon-rc-aspect",s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-footer",s.prototype.init=function(t){var e,i,s;if(t=t||{},this.tabs[this.tab].$body.classList.add("hidden"),this.tab=t.middle&&t.middle.length?t.middle.length-1:0,i=this.tabs[this.tab],i.codes={},t.left?(this.$left.className=t.left.className||"theme-icon "+(o[t.left.code]||"theme-icon-warning"),t.left.disabled?this.$left.classList.add("disabled"):(i.codes[t.left.code]={action:t.left.action},this.$left.style.visibility="inherit",this.$left.onclick=t.left.action)):"hidden"!==this.$left.style.visibility&&(this.$left.style.visibility="hidden"),t.right?(this.$right.className=t.right.className||"theme-icon "+(o[t.right.code]||"theme-icon-warning"),t.right.disabled?this.$right.classList.add("disabled"):(i.codes[t.right.code]={action:t.right.action},this.$right.style.visibility="inherit",this.$right.onclick=t.right.action)):"hidden"!==this.$right.style.visibility&&(this.$right.style.visibility="hidden"),t.middle&&t.middle.length){for(e=0;e<t.middle.length;e++)i.codes[t.middle[e].code]={action:t.middle[e].action},t.middle[e].disabled?i.$body.children[e].classList.add("disabled"):(i.$body.children[e].classList.remove("disabled"),i.$body.children[e].onclick=t.middle[e].action),s=i.$body.children[e].children,s[0].className="iconImg "+(t.middle[e].className||"theme-icon "+(o[t.middle[e].code]||"theme-icon-warning")),s[1].innerText=t.middle[e].title||"";i.$body.classList.remove("hidden")}},t.exports=s},function(t,e,i){"use strict";t.exports=i(18)},function(t,e,i){"use strict";function s(t){var e;t=t||{},this.size=1,this.main=!1,this.index=0,t.$body=document.createElement("div"),t.$body.className="body",a.call(this,t),t.size&&(this.size=t.size,this.$node.classList.add("size"+t.size)),t.main&&(this.main=!0,this.$node.classList.add("main")),this.$shadow={left:document.createElement("div"),right:document.createElement("div")},this.$shadow.left.className="shadow left",this.$node.appendChild(this.$shadow.left),this.$shadow.right.className="shadow right",this.$node.appendChild(this.$shadow.right),t.title&&(Array.isArray(t.title)||(t.title=[t.title]),this.$title=new n({className:"title",data:t.title,focusable:!1}),this.$node.appendChild(this.$title.$node)),this.$node.appendChild(this.$body),e=document.createElement("div"),e.className="overlay",this.$node.appendChild(e)}var a=i(22),n=i(24);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-panel",s.prototype.defaultEvents={focus:function(){this.children.length&&this.children[0].focus()}},s.prototype.focus=function(){this.focusable&&(this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),this.parent.panels[this.parent.focusIndex].$node.classList.remove("top"),a.prototype.focus.call(this),this.parent.focusIndex=this.index,this.$node.classList.add("active"),this.$node.classList.add("top"),0===this.index&&this.parent.panels[1]&&this.parent.panels[1].main?(this.parent.panels[1].$node.classList.remove("position-left"),this.parent.panels[1].$node.classList.add("position-right"),this.parent.panels[2]&&this.parent.panels[2].$node.classList.remove("expand"),this.$node.classList.add("expand")):2===this.index&&this.parent.panels[1].main&&(this.parent.panels[1].$node.classList.remove("position-right"),this.parent.panels[1].$node.classList.add("position-left"),this.parent.panels[0].$node.classList.remove("expand"),this.$node.classList.add("expand")))},s.prototype.blur=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),a.prototype.blur.call(this)},t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.focusIndex=0,this.data=[],n.call(this,t),this.init(t),this.addListener("keydown",function(t){switch(t.code){case o.right:this.children.length&&this.focusIndex<this.children.length-1&&this.children[++this.focusIndex].focus();break;case o.left:this.children.length&&this.focusIndex>0&&this.children[--this.focusIndex].focus();break;case o.back:this.parent.focus(),this.parent&&this.$parentItem&&this.parent.focusItem(this.$parentItem)}})}function a(t){var e,i;for(e=0;e<t.length;e++)i=t[e],"object"!=typeof i?t[e]={value:t[e],wrap:!0}:i instanceof n||i instanceof HTMLElement?t[e]={value:i,wrap:!1}:t[e].wrap=!0;return t}var n=i(22),o=i(19);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-layout",s.prototype.init=function(t){for(var e,i,s,o=this,d=a(t.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);for(this.data=d,s=0;s<d.length;s++)e=d[s],"string"==typeof e.value?(i=document.createElement("div"),i.textContent=e.value,e.className&&(i.className=e.className),this.$node.appendChild(i)):e.value instanceof HTMLElement?e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value),this.$node.appendChild(i)):this.$node.appendChild(e.value):e.value instanceof n?(e.value.propagate=!0,e.value.index=this.children.length,e.value.addListener("click",function(){o.focusIndex=this.index}),e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value.$node),this.$node.appendChild(i),this.children.push(e.value),e.value.parent=this):this.add(e.value)):(i=document.createElement("div"),e.className&&(i.className=e.className),this.$node.appendChild(i))},t.exports=s},function(t,e,i){"use strict";function s(t){function e(t){switch(t.code){case n.left:s.focusIndex>0&&s.panels[s.focusIndex-1].focus();break;case n.right:s.focusIndex<s.panels.length-1&&s.panels[s.focusIndex+1].focus()}}var i,s=this;for(t=t||{},t.focusable=t.focusable||!1,a.call(this,t),this.panels=t.panels,this.focusIndex=0,t.panels&&!t.panels[0].main&&(t.panels[0].$node.classList.add("left"),t.panels[0].$node.classList.add("expand")),t.panels&&t.panels[1]&&t.panels[1].main&&t.panels[1].$node.classList.add("position-right"),t.panels&&t.panels[2]&&t.panels[1].main&&t.panels[2].$node.classList.add("right"),t.panels&&this.add.apply(this,t.panels),i=0;i<this.panels.length;i++)this.panels[i].addListeners({keydown:e}),this.panels[i].index=i}var a=i(22),n=i(19);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-panel-set",s.prototype.focus=function(){a.prototype.focus.call(this),this.panels[this.focusIndex].focus()},s.prototype.blur=function(){this.panels[this.focusIndex].blur()},t.exports=s},function(t,e,i){"use strict";function s(t){var e=this;t=t||{},this.handlers={},this.$noData=null,t.propagate=void 0===t.propagate||t.propagate,this.fixedData=t.fixedData||!1,t.$body=document.createElement("div"),t.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",a.call(this,t),this.$node.appendChild(this.$body),this.$node.appendChild(this.$noData),this.addListener("click:item",function(t){t.$item.layout.children.length&&!t.inner&&t.$item.layout.children[t.$item.layout.focusIndex].focus(),t.inner&&(e.focus(),e.focusItem(t.$item)),e.handlers[t.$item.index]&&e.handlers[t.$item.index](t.$item)})}var a=i(27),n=i(24);s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-layout-list",s.prototype.renderItemDefault=function(t,e){var i,s,a,o;if(t.ready&&this.fixedData)for(o=0;o<e.items.length;o++)a=e.items[o],"string"!=typeof a.value&&void 0!==a.value||(s=t.layout.$node.childNodes[o],s.innerText=a.value||"",s.className=a.className||"");else{for(;t.firstChild;)t.removeChild(t.firstChild);i=new n({focusable:!1,data:e.items,className:e.className}),t.appendChild(i.$node),t.layout=i,i.parent=this,i.$parentItem=t,i.addListener("click",function(){i.parent.emit("click:item",{$item:t,inner:!0})}),e.click&&(this.handlers[t.index]=e.click),t.ready=!0}t.value=e.value||{}},s.prototype.setData=function(t){a.prototype.setData.call(this,t),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},s.prototype.init=function(t){var e;a.prototype.init.call(this,t),t.noData&&(this.$noData.innerHTML="",t.noData instanceof Element?this.$noData.appendChild(t.noData):"string"==typeof t.noData&&(e=document.createElement("div"),e.innerText=t.noData,this.$noData.appendChild(e))),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},s.prototype.renderItem=s.prototype.renderItemDefault,t.exports=s},function(t,e,i){"use strict";function s(t){t=t||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,t.type&&(this.type=t.type),this.provider=null,t.className=t.className||"",this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),n.call(this,t),this.init(t)}function a(t){var e,i;for(e=0;e<t.length;e++)i=t[e],"object"!=typeof i&&(i=t[e]={value:t[e]});return t}var n=i(22),o=i(19);s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.name="mag-component-list",s.prototype.TYPE_VERTICAL=1,s.prototype.TYPE_HORIZONTAL=2,s.prototype.renderItemDefault=function(t,e){t.innerText=e.value},s.prototype.renderItem=s.prototype.renderItemDefault,s.prototype.defaultEvents={mousewheel:function(t){this.type===this.TYPE_VERTICAL&&t.wheelDeltaY&&this.move(t.wheelDeltaY>0?o.up:o.down),this.type===this.TYPE_HORIZONTAL&&t.wheelDeltaX&&this.move(t.wheelDeltaX>0?o.left:o.right)},keydown:function(t){switch(t.code){case o.up:case o.down:case o.right:case o.left:case o.pageUp:case o.pageDown:case o.home:case o.end:this.move(t.code);break;case o.enter:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},s.prototype.init=function(t){var e,i,s=this,a=this.$body.children.length,n=function(t){this.data&&(s.focusItem(this),s.events["click:item"]&&s.emit("click:item",{$item:this,event:t}))};if(void 0!==t.cycle&&(this.cycle=t.cycle),t.scroll&&(this.scroll=t.scroll),t.provider&&(this.provider=t.provider),t.render&&(this.renderItem=t.render),t.size&&(this.size=t.size),t.events&&Object.keys(t.events).forEach(function(e){s.events[e]=null,s.addListener(e,t.events[e])}),this.size!==a)for(a>0&&(this.$body.innerText=null),i=0;i<this.size;i++)e=document.createElement("div"),e.index=i,e.className="item",e.addEventListener("click",n),this.$body.appendChild(e);this.provider?this.provider.get(null,function(e,i){e?s.events["data:error"]&&s.emit("data:error",e):(i&&(t.data=i,s.setData(t),s.scroll&&s.scroll.init({realSize:s.provider.maxCount,viewSize:s.provider.size,value:s.provider.head+s.provider.pos})),s.events["data:get"]&&s.emit("data:get"))}):t.data&&this.setData(t)},s.prototype.setData=function(t){t.data&&(this.data=a(t.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&(this.provider?this.scroll.realSize!==this.provider.maxCount&&this.scroll.init({realSize:this.provider.maxCount,viewSize:this.provider.size,value:this.provider.head+this.provider.pos}):this.scroll.init({realSize:this.data.length,viewSize:this.size,value:t.viewIndex||0})),void 0!==t.focusIndex&&this.data.length?this.focusIndex(t.focusIndex):this.renderView(t.viewIndex||0)},s.prototype.renderView=function(t){var e,i,s,a,n;if(this.viewIndex!==t){for(a=this.viewIndex,this.viewIndex=n=t,i=0;i<this.size;i++)e=this.$body.children[i],s=this.data[t],s?(e.data=s,e.index=t,this.renderItem(e,s),s.mark?e.classList.add("mark"):e.classList.remove("mark")):(e.data=e.index=void 0,e.innerHTML="&nbsp;",e.ready=!1),t++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:a,currIndex:n}),this.events["select:item"]&&this.emit("select:item",{$item:e}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},s.prototype.move=function(t){var e=this,i=!1;if(this.data.length)switch(t){case o.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.up:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.provider?this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})}):(this.cycle&&this.move(o.end),this.events["overflow"]&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case o.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case o.down:(i||this.type===this.TYPE_VERTICAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.provider?this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})}):(this.cycle&&this.move(o.home),this.events["overflow"]&&this.emit("overflow",{direction:t,cycle:this.cycle})));break;case o.pageUp:if(this.provider)return void this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s?s:0})});this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case o.pageDown:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:i.length<e.size?i.length-1:e.size-1})});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case o.home:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s?s:0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case o.end:if(this.provider){this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:i.length<e.size?i.length-1:e.size-1})});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},s.prototype.focusItem=function(t){var e=this.$focusItem;return!(!t||e===t)&&(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),this.events["select:item"]&&this.emit("select:item",{$item:t}),!0)},s.prototype.blurItem=function(t){return!!t&&(t===this.$focusItem&&(this.$focusItem=null),t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t}),!0)},s.prototype.focusIndex=function(t){var e=this.viewIndex||0;t>=e+this.size?(t=t<this.data.length-1?t:this.data.length-1,this.renderView(t-this.size+1),this.focusItem(this.$body.lastChild)):t<e?(t=t>0?t:0,
this.renderView(t),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[t-e]))},s.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=s}]);
//# sourceMappingURL=release.map